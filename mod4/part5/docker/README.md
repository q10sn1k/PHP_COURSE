Если порт 3306 занят, то остановите сервер БД MySql на Вашем компьютере

```
net stop MYSQL80
```

если у Вас отличается имя системной службы то можно найти корректное название в списке

1)
```
win + R
```

2)
```
services.msc
```

3) Находим название локальной службы в списке и останавливаем
________________________________________________________________
________________________________________________________________
________________________________________________________________


# Установите Docker - https://www.docker.com/products/docker-desktop/

# Создаем Dockerfile

В нашем примере для Базы данных MySql.
Dockerfile - это файл который используется для создания образа Docker.\
Dockerfile содержит инструкции для того, чтобы докер мог создать образ, который вы используете для запуска контейнеров.

# дополнительно для примера
мы создали файл `init.sql` содержащий sql скрипт

```sql
CREATE DATABASE IF NOT EXISTS test;
USE test;

CREATE TABLE IF NOT EXISTS users (
    id INT AUTO_INCREMENT PRIMARY KEY,
    name VARCHAR(255) NOT NULL,
    email VARCHAR(255) NOT NULL    
);

INSERT INTO users (name, email) VALUES
    ('Ivan', 'ivan@example.com'),
    ('Sergey', 'sergey@example.com');
```

# Создаем Dockerfile (продолжение)

```Dockerfile
# используем базовый образ MySql
FROM mysql:latest

# Устанавливаем переменную окружения MYSQL_ROOT_PASSWORD
ENV MYSQL_ROOT_PASSWORD=root


# Копируем файл init.sql в каталог /docker-entrypoint-initdb.d/ в контейнере
COPY init.sql /docker-entrypoint-initdb.d/
```

# docker-compose.yaml

Файл `docker-compose` используется для определения многоконтейнерных приложений в Docker.\
`docker-compose` позволяет объединить несколько контейнеров в единое приложение.

```yaml
version: '3.9' 

services:
  db:
    build: .
    environment:
      MYSQL_ROOT_PASSWORD: root
    ports:
      - "3306:3306"
    volumes:
      - ./mysql-data:/var/lib/mysql
```

`version: '3.9'` - версия формата файла `docker-compose`

`services` - определение сервисов которые должны быть запущены

`db:` - название сервиса (название контейнера БД MySql)

`build` - конфигурация сборки образа Docker, которая используется для создания контейнера

`environment` - переменные окружения, которые будет переданы в контейнер.

` MYSQL_ROOT_PASSWORD` - задаем пароль для root пользователя в БД

`ports` - определяем порты, которые нужно открыть на хосте и направить на контейнер.

`- "3306:3306"` - порт на котором прослушиваем контейнер MySql : порт на который направляем на хосте

`volumes:` - Определяем связь между директориями на хосте и в контейнере

`- ./mysql-data:/var/lib/mysql` - Свзываем каталог `mysql-data` на хосте с каталогом `/var/lib/mysql` в контейнере Mysql. Это позволяет сохранять данныые между запусками контейнеров.

# Запускаем контейнер MySql в Docker

```
docker-compose up -d
```

`-d` - флаг d для работы контейнера в фоновом режиме


# Просмотр запущенных контейнеров и их статут

```
docker-compose ps
```

_______________________________________________________
_______________________________________________________
_______________________________________________________

# Подключение к БД
```
mysql -h 127.0.0.1 -P 3306 -u root -p
```